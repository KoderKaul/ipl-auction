{"ast":null,"code":"var _jsxFileName = \"/home/proxin/React/react-js-chat-webapp-example/src/components/Login/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\nimport { Typography, TextField, Container, IconButton, Paper } from \"@material-ui/core\";\nimport firebase from \"../../Firebase\";\nimport useStyles from \"./Login.styles\";\nimport dora from \"../../img/doralogo-white.png\";\nimport ipl from \"../../img/ipl.png\";\nimport virat from \"../../img/virat.jpg\";\n\nfunction Login() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const [showLoading, setShowLoading] = useState(false);\n  const [user, setUser] = useState({\n    nickName: \"\"\n  });\n  const ref = firebase.database().ref(\"users/\");\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setShowLoading(true);\n    ref.orderByChild(\"nickName\").equalTo(user.nickName).once(\"value\", snapshot => {\n      if (snapshot.exists()) {\n        localStorage.setItem(\"nickName\", user.nickName);\n        history.push(\"/roomlist\");\n        setShowLoading(false);\n      } else {\n        const newUser = firebase.database().ref(\"users/\").push();\n        newUser.set(user);\n        localStorage.setItem(\"nickName\", user.nickName);\n        history.push(\"/roomlist\");\n        setShowLoading(false);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.mainContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Paper, {\n    className: classes.innerContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: ipl,\n    className: classes.iplLogo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"h3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Join\"), /*#__PURE__*/React.createElement(TextField, {\n    label: \"Name\",\n    variant: \"outlined\",\n    fullWidth: true,\n    required: true,\n    InputLabelProps: {\n      shrink: true\n    },\n    value: user.nickName,\n    onChange: e => {\n      setUser({ ...user,\n        nickName: e.target.value\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(IconButton, {\n    className: classes.submitButton,\n    color: \"primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ArrowForwardIcon, {\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.imgContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: dora,\n    className: classes.doraImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.imgContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: banner,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  })));\n}\n\n_s(Login, \"+vrvJ1yGF0gj5Fj4B8bNuVjB8Zk=\", false, function () {\n  return [useStyles, useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/proxin/React/react-js-chat-webapp-example/src/components/Login/Login.js"],"names":["React","useState","useHistory","ArrowForwardIcon","Typography","TextField","Container","IconButton","Paper","firebase","useStyles","dora","ipl","virat","Login","classes","history","showLoading","setShowLoading","user","setUser","nickName","ref","database","handleSubmit","e","preventDefault","orderByChild","equalTo","once","snapshot","exists","localStorage","setItem","push","newUser","set","mainContainer","innerContainer","iplLogo","shrink","target","value","submitButton","imgContainer","doraImg","banner"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport ArrowForwardIcon from \"@material-ui/icons/ArrowForward\";\nimport {\n  Typography,\n  TextField,\n  Container,\n  IconButton,\n  Paper,\n} from \"@material-ui/core\";\nimport firebase from \"../../Firebase\";\nimport useStyles from \"./Login.styles\";\nimport dora from \"../../img/doralogo-white.png\";\nimport ipl from \"../../img/ipl.png\";\nimport virat from \"../../img/virat.jpg\"\n\nfunction Login() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [showLoading, setShowLoading] = useState(false);\n  const [user, setUser] = useState({\n    nickName: \"\",\n  });\n  const ref = firebase.database().ref(\"users/\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setShowLoading(true);\n    ref\n      .orderByChild(\"nickName\")\n      .equalTo(user.nickName)\n      .once(\"value\", (snapshot) => {\n        if (snapshot.exists()) {\n          localStorage.setItem(\"nickName\", user.nickName);\n          history.push(\"/roomlist\");\n          setShowLoading(false);\n        } else {\n          const newUser = firebase.database().ref(\"users/\").push();\n          newUser.set(user);\n          localStorage.setItem(\"nickName\", user.nickName);\n          history.push(\"/roomlist\");\n          setShowLoading(false);\n        }\n      });\n  };\n\n  return (\n    <div className={classes.mainContainer}>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Paper className={classes.innerContainer}>\n        <img src={ipl} className={classes.iplLogo} />\n          <Typography variant=\"h3\">Join</Typography>\n          <TextField\n            label=\"Name\"\n            variant=\"outlined\"\n            fullWidth\n            required={true}\n            InputLabelProps={{ shrink: true }}\n            value={user.nickName}\n            onChange={(e) => {\n              setUser({\n                ...user,\n                nickName: e.target.value,\n              });\n            }}\n          />\n\n          <IconButton\n            className={classes.submitButton}\n            color=\"primary\"\n            onClick={handleSubmit}\n          >\n            <ArrowForwardIcon fontSize=\"large\" />\n          </IconButton>\n        </Paper>\n      </Container>\n      <div className={classes.imgContainer}>\n        <img src={dora} className={classes.doraImg} />\n      </div>\n      <div className={classes.imgContainer}>\n      <img src={banner}/>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}